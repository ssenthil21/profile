<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Beauty Parlour</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style id="dynamic-styles">
        /* Dynamic styles will be injected here by JavaScript */
    </style>
    <style type="text/tailwindcss">
        body {
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
            background-color: var(--brand-light);
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'DM Sans', sans-serif;
            font-weight: 700;
        }
        
        .btn { @apply font-semibold py-3 px-8 rounded-md transition-all duration-300 ease-in-out; }
        .btn:active, button:active, .service-filter-btn:active, .page-action-btn:active { @apply scale-95; }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 0 rgba(192,130,97,0.0); }
            50% { box-shadow: 0 0 20px rgba(192,130,97,0.6); }
        }
        .btn-glow { animation: glow 2s ease-in-out infinite; }
        .reveal { opacity: 0; transform: translateY(30px) scale(0.98); transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .reveal.visible { opacity: 1; transform: translateY(0) scale(1); }
        .scroll-container { -ms-overflow-style: none; scrollbar-width: none; }
        .scroll-container::-webkit-scrollbar { display: none; }
        .hero-slide { background-size: cover; background-position: center; }
        .pagination-dot { @apply w-3 h-3 rounded-full bg-white/50 transition-all duration-300 cursor-pointer; }
        .pagination-dot.active { @apply bg-white scale-125; }

        /* Floating social icon animation */
        .social-icon {
            @apply w-12 h-12 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300;
            color: var(--brand-accent);
            background-color: transparent;
            animation: float 3s ease-in-out infinite;
        }
        .social-icon:hover {
            animation: none;
            transform: translateY(-0.25rem) scale(1.1);
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-0.5rem); }
        }

        /* New Service Card Styles */
        .service-card-selectable {
            @apply bg-white p-4 rounded-lg border-2 overflow-hidden flex items-center justify-between transition-all duration-300 cursor-pointer relative shadow-md;
            border-color: var(--brand-accent);
        }
        .service-card-selectable:hover { @apply -translate-y-1 shadow-xl; }
        .service-card-selectable.selected {
            border-color: var(--brand-accent);
            background-color: var(--brand-light);
        }
        .service-card-icon-new {
            @apply bg-gray-200 text-gray-500 w-16 h-16 rounded-lg flex items-center justify-center text-xl font-bold flex-shrink-0;
        }
        .service-price {
            @apply inline-block border-2 border-gray-400 rounded-full px-3 py-1 text-sm font-semibold;
        }
        .checkmark-icon {
            @apply absolute top-3 right-3 text-green-500 text-2xl;
            display: none;
        }
        .service-card-selectable.selected .checkmark-icon {
            display: block;
        }

        /* Stat Card Styles */
        .stat-card {
            @apply bg-white/80 backdrop-blur rounded-xl p-6 text-center shadow-lg transform transition-transform duration-300 hover:-translate-y-2 hover:shadow-2xl;
        }
        .stat-icon {
            @apply w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center text-3xl text-white shadow-lg;
            background: linear-gradient(135deg, var(--brand-accent), var(--brand-charcoal));
        }

        /* Review Card Styles */
        .review-card {
            @apply bg-white p-6 rounded-lg shadow-lg flex flex-col;
        }
        .star-rating .fa-star {
            color: #FBBF24; /* amber-400 */
            animation: starGlow 1.5s ease-in-out infinite;
        }

        @keyframes starGlow {
            0%,100% { text-shadow: 0 0 2px #FBBF24; }
            50% { text-shadow: 0 0 8px #FBBF24; }
        }
        .star-glow { animation: starGlow 1.5s ease-in-out infinite; }
        
        .gallery-container { column-count: 2; column-gap: 1rem; }
        @media (min-width: 768px) { .gallery-container { column-count: 3; } }
        @media (min-width: 1024px) { .gallery-container { column-count: 4; } }
        .gallery-item { break-inside: avoid; margin-bottom: 1rem; }
        .gallery-item img { transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; border: 4px solid white; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .gallery-item:hover img { transform: scale(1.03); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }

        .stylist-card img { @apply transition-transform duration-300; }
        .stylist-card:hover img { @apply scale-105; }
        .stylist-card h4 { @apply transition-colors duration-300; }
        .stylist-card:hover h4 { color: var(--brand-accent); }

        .media-item { @apply relative overflow-hidden; }
        .media-overlay { @apply absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 transition-opacity duration-300; }
        .media-item:hover .media-overlay { @apply opacity-100; }

        .reveal-left, .reveal-right { opacity: 0; transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .reveal-left { transform: translateX(-30px); }
        .reveal-right { transform: translateX(30px); }
        .reveal-left.visible, .reveal-right.visible { opacity: 1; transform: translateX(0); }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .fade-in { animation: fadeIn 0.5s ease forwards; }

        .nav-link { position: relative; }
        .nav-link::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            height: 2px;
            width: 0;
            background-color: var(--brand-accent);
            transition: width 0.3s ease;
        }
        .nav-link:hover::after { width: 100%; }

        .parallax {
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
        }

        .image-reveal { position: relative; overflow: hidden; }
        .image-reveal::before {
            content: '';
            position: absolute;
            inset: 0;
            background-color: var(--brand-accent);
            transform: translateX(0);
            transition: transform 0.6s ease;
        }
        .image-reveal.visible::before { transform: translateX(100%); }

        .service-item { transition: transform 0.3s ease, opacity 0.3s ease; }
        .service-item.fade-out { opacity: 0; transform: scale(0.95); }


        .blur-up { filter: blur(20px); transition: filter 0.5s ease; }
        .blur-up.loaded { filter: blur(0); }

        #preloader { @apply fixed inset-0 flex items-center justify-center bg-white z-50 transition-opacity duration-500; }
        #preloader.fade-out { @apply opacity-0; }
        #preloader-logo { @apply w-24 h-24; animation: preloaderPulse 1.5s ease-in-out infinite; }
        @keyframes preloaderPulse { 0%,100% { opacity:0.3; } 50% { opacity:1; } }
    </style>
</head>
<body class="text-brand-charcoal">

    <div id="preloader"><img id="preloader-logo" alt="Loading"></div>

    <!-- JSON Data embedded directly in the HTML -->
    
    <div id="floating-social-bar" class="flex-col space-y-2 fixed left-5 top-1/2 -translate-y-1/2 z-40 backdrop-blur-md shadow-lg rounded-full p-2 hidden md:flex">
        <!-- Social icons will be injected here -->
    </div>

    <div id="floating-action-buttons" class="fixed bottom-6 right-6 z-40 bg-white/80 backdrop-blur-md rounded-full flex flex-col items-center p-2 space-y-1 shadow-lg">
        <!-- Action buttons will be injected here -->
    </div>

    <header class="bg-white/80 backdrop-blur-md fixed top-0 left-0 right-0 z-50 border-b border-gray-200">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <a href="index.html" class="text-brand-charcoal hover:text-brand-accent transition-colors" aria-label="Home">
                    <i class="fas fa-home text-2xl"></i>
                </a>
                <h1 id="header-brand-name" class="text-3xl font-bold text-brand-charcoal"></h1>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#services" class="nav-link hover:text-brand-accent transition-colors">Services</a>
                <a href="#reviews" class="nav-link hover:text-brand-accent transition-colors">Reviews</a>
                <a href="#stylists" class="nav-link hover:text-brand-accent transition-colors">Our Team</a>
                <a href="#gallery" class="nav-link hover:text-brand-accent transition-colors">Gallery</a>
                <a href="#reels" class="nav-link hover:text-brand-accent transition-colors">Reels</a>
            </nav>
            <div class="flex items-center space-x-4">
                <a class="book-now-link hidden md:inline-block btn btn-primary btn-glow">Book Now</a>
                <div id="color-palette" class="flex items-center space-x-2 bg-white/80 backdrop-blur-md rounded-full p-2 shadow-lg"></div>
                <button id="mobile-menu-button" class="md:hidden">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 bg-white border-t">
            <a href="#services" class="block py-2 hover:text-brand-accent nav-link">Services</a>
            <a href="#reviews" class="block py-2 hover:text-brand-accent nav-link">Reviews</a>
            <a href="#stylists" class="block py-2 hover:text-brand-accent nav-link">Our Team</a>
            <a href="#gallery" class="block py-2 hover:text-brand-accent nav-link">Gallery</a>
            <a href="#reels" class="block py-2 hover:text-brand-accent nav-link">Reels</a>
            <a class="book-now-link mt-2 block btn btn-primary text-center btn-glow">Book Now</a>
        </div>
    </header>

    <main class="pt-24">
        <section id="hero-slider" class="w-full h-[56vh] flex">
            <div class="w-1/4 bg-brand-light flex flex-col items-center justify-center p-6 text-center">
                <img id="company-logo" class="mb-4 max-w-full h-auto" alt="Company Logo">
                <div class="text-sm text-gray-600 space-y-1">
                    <p><i class="fas fa-star text-brand-accent mr-1 star-glow"></i><span id="company-rating"></span></p>
                    <p><i class="fas fa-map-marker-alt text-brand-accent mr-1"></i><span id="company-address"></span></p>
                    <p><i class="fas fa-phone text-brand-accent mr-1"></i><span id="company-phone"></span></p>
                    <p><i class="fas fa-clock text-brand-accent mr-1"></i><span id="company-hours"></span></p>
                </div>
            </div>
            <div class="relative w-3/4 h-full overflow-hidden">
                <div id="hero-container" class="w-full h-full flex transition-transform duration-500 ease-in-out"></div>
                <button id="hero-scroll-left" class="absolute top-1/2 -translate-y-1/2 left-4 bg-white/30 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md hover:bg-white/50 transition z-10"><i class="fas fa-chevron-left"></i></button>
                <button id="hero-scroll-right" class="absolute top-1/2 -translate-y-1/2 right-4 bg-white/30 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-md hover:bg-white/50 transition z-10"><i class="fas fa-chevron-right"></i></button>
                <div id="hero-pagination" class="absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-3 z-10"></div>
            </div>
        </section>

        <section id="info-bar" class="py-6 bg-white border-b border-gray-200 hidden">
            <div class="container mx-auto px-6">
                 <div id="info-bar-content" class="max-w-5xl mx-auto grid md:grid-cols-3 gap-6 text-center"></div>
            </div>
        </section>

        <section id="stats" class="bg-brand-light parallax py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-4xl font-bold mb-3">Our Achievements</h3>
                    <p class="text-gray-600">Numbers that speak for themselves</p>
                </div>
                <div id="stats-grid" class="grid grid-cols-2 md:grid-cols-4 gap-8"></div>
            </div>
        </section>

        <section id="services" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-10 reveal">
                    <h3 class="text-4xl font-bold mb-3">Our Services</h3>
                    <p class="text-lg text-gray-500">Explore our range of expert treatments.</p>
                </div>
                <div id="service-filters" class="flex overflow-x-auto scroll-container justify-center gap-3 mb-10 reveal"></div>
                <div class="flex justify-center mb-6">
                    <input id="service-search" type="text" placeholder="Search services..." class="border p-2 rounded w-full md:w-1/2">
                </div>
                <div class="max-w-6xl mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="service-grid"></div>
            </div>
        </section>


        <section id="reviews" class="py-24 bg-brand-light parallax">
            <div class="container mx-auto px-6">
                <div class="text-center mb-10 reveal">
                    <h3 class="text-4xl font-bold mb-3">What Our Clients Say</h3>
                    <p class="text-lg text-gray-500">Real stories from our valued customers.</p>
                </div>
                <div class="relative reveal">
                    <div id="reviews-container" class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth scroll-container space-x-6 pb-4 px-8"></div>
                    <button id="reviews-scroll-left" class="absolute top-1/2 -translate-y-1/2 -left-8 transform -translate-x-1/2 bg-white/80 rounded-full w-12 h-12 flex items-center justify-center shadow-md hover:bg-white transition z-10"><i class="fas fa-chevron-left"></i></button>
                    <button id="reviews-scroll-right" class="absolute top-1/2 -translate-y-1/2 -right-8 transform translate-x-1/2 bg-white/80 rounded-full w-12 h-12 flex items-center justify-center shadow-md hover:bg-white transition z-10"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>

        <section id="stylists" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 reveal">
                    <h3 id="team-title" class="text-4xl font-bold mb-3">Meet Our Expert Stylists</h3>
                    <p id="team-subtitle" class="text-lg text-gray-500">The talented artists behind your transformation.</p>
                </div>
                <div id="stylists-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"></div>
            </div>
        </section>

        <section id="reels" class="py-24 bg-brand-light">
            <div class="container mx-auto px-6">
                <div class="text-center mb-10 reveal">
                    <h3 class="text-4xl font-bold mb-3">Reels & Videos</h3>
                    <p class="text-lg text-gray-500">See our stylists in action.</p>
                </div>
                <div class="relative reveal">
                    <div id="reels-container" class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth scroll-container space-x-6 pb-4"></div>
                    <button id="reels-scroll-left" class="absolute top-1/2 -translate-y-1/2 left-0 transform -translate-x-1/2 bg-white/80 rounded-full w-12 h-12 flex items-center justify-center shadow-md hover:bg-white transition z-10"><i class="fas fa-chevron-left"></i></button>
                    <button id="reels-scroll-right" class="absolute top-1/2 -translate-y-1/2 right-0 transform translate-x-1/2 bg-white/80 rounded-full w-12 h-12 flex items-center justify-center shadow-md hover:bg-white transition z-10"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>
        
        <section id="gallery" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-10 reveal">
                    <h3 class="text-4xl font-bold mb-3">Our Gallery</h3>
                    <p class="text-lg text-gray-500">Inspiration for your next visit.</p>
                </div>
                <div class="relative reveal">
                    <div id="gallery-container" class="gallery-container"></div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-brand-charcoal text-white">
        <div class="container mx-auto px-6 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left">
                <p class="text-gray-400">&copy; 2025 <span id="footer-business-name"></span>. All Rights Reserved.</p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram fa-lg"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f fa-lg"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-youtube fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const business = params.get("business") || "shai";
            const dataUrl = new URL(`data/${business}.json`, window.location.origin);
            const listUrl = new URL('data/businesses.json', window.location.origin);

            Promise.all([fetch(dataUrl), fetch(listUrl)])
                .then(([resData, resList]) => {
                    if (!resData.ok || !resList.ok) throw new Error('Network response was not ok');
                    return Promise.all([resData.json(), resList.json()]);
                })
                .then(([data, businessList]) => {
                    const info = businessList.find(b => b.id === business) || {};
                    const category = info.category || '';

                    const professionMap = {
                        salon: 'Stylists',
                        parlour: 'Stylists',
                        spa: 'Therapists',
                        massage: 'Therapists',
                        clinic: 'Doctors',
                        food: 'Chefs',
                        laundry: 'Attendants',
                        turf: 'Coaches',
                        gamezone: 'Crew',
                        event: 'Planners',
                        petclinic: 'Vets'
                    };
                    const teamLabel = professionMap[category] || 'Stylists';
                    const teamTitleEl = document.getElementById('team-title');
                    const teamSubtitleEl = document.getElementById('team-subtitle');
                    if(teamTitleEl) teamTitleEl.textContent = `Meet Our Expert ${teamLabel}`;
                    if(teamSubtitleEl) teamSubtitleEl.textContent = `The talented ${teamLabel.toLowerCase()} behind your experience.`;

                    // --- POPULATE HTML WITH DATA ---
            
            document.getElementById('page-title').textContent = `${data.businessName} - Premier Beauty Studio`;
            document.getElementById('header-brand-name').textContent = data.businessName;
            document.getElementById('footer-business-name').textContent = data.businessName;
            document.getElementById('company-logo').src = data.logo;
            document.getElementById('company-logo').alt = `${data.businessName} logo`;
            document.getElementById('company-rating').textContent = data.rating;
            const preloaderLogo = document.getElementById('preloader-logo');
            if(preloaderLogo){
                preloaderLogo.src = data.logo;
                preloaderLogo.alt = `${data.businessName} loading`;
            }
            document.getElementById('company-address').textContent = data.contact.location;
            document.getElementById('company-phone').textContent = data.contact.phone;
            document.getElementById('company-hours').textContent = data.contact.hours;

            const styleTag = document.getElementById('dynamic-styles');
            styleTag.innerHTML = `
                :root {
                    --brand-charcoal: ${data.theme.charcoal};
                    --brand-accent: ${data.theme.accent};
                    --brand-light: ${data.theme.light};
                }
                .text-brand-charcoal { color: var(--brand-charcoal); }
                .bg-brand-accent { background-color: var(--brand-accent); }
                .text-brand-accent { color: var(--brand-accent); }
                .border-brand-accent { border-color: var(--brand-accent) !important; }
                .bg-brand-light { background-color: var(--brand-light); }
                .btn-primary { background-color: var(--brand-accent); color: white; }
                .btn-primary:hover { background-color: var(--brand-charcoal); }
                .btn-secondary { background-color: transparent; color: white; border: 2px solid white; }
                .btn-secondary:hover { background-color: white; color: var(--brand-accent); }
                .social-icon:hover { color: var(--brand-accent); }
                .page-action-btn:hover { color: var(--brand-accent); }
                .service-card-icon-new { background-color: var(--brand-light); color: var(--brand-accent); }
                .service-filter-btn {
                    border: 2px solid var(--brand-accent);
                    color: var(--brand-charcoal);
                    background-color: white;
                    border-radius: 9999px;
                    padding: 0.5rem 1rem;
                    font-weight: 600;
                    white-space: nowrap;
                    transition: background-color 0.3s, color 0.3s;
                }
                .service-filter-btn.active { background-color: var(--brand-charcoal); color: white; border-color: var(--brand-charcoal); }
            `;

            function applyTheme(theme) {
                document.documentElement.style.setProperty('--brand-charcoal', theme.charcoal);
                document.documentElement.style.setProperty('--brand-accent', theme.accent);
                document.documentElement.style.setProperty('--brand-light', theme.light);
            }

            applyTheme(data.theme);

            const bookNowUrl = `https://wa.me/${data.contact.whatsapp}?text=Hello%20${data.businessName}%2C%20I'd%20like%20to%20book%20an%20appointment.`;
            document.querySelectorAll('.book-now-link').forEach(link => {
                link.href = bookNowUrl;
                link.target = '_blank';
            });

            function hexToRgb(hex) {
                const h = hex.replace('#','');
                const bigint = parseInt(h, 16);
                const r = (bigint >> 16) & 255;
                const g = (bigint >> 8) & 255;
                const b = bigint & 255;
                return `${r},${g},${b}`;
            }
            const accentRGB = hexToRgb(data.theme.accent);

            const paletteContainer = document.getElementById('color-palette');
            if (paletteContainer) {
                const palettes = [
                    data.theme,
                    { charcoal: '#1E293B', accent: '#3B82F6', light: '#DBEAFE' },
                    { charcoal: '#1F2937', accent: '#10B981', light: '#D1FAE5' },
                    { charcoal: '#312E81', accent: '#8B5CF6', light: '#EDE9FE' },
                    { charcoal: '#292524', accent: '#F97316', light: '#FFEDD5' },
                    { charcoal: '#1C1917', accent: '#EC4899', light: '#FCE7F3' },
                    { charcoal: '#0F172A', accent: '#14B8A6', light: '#CCFBF1' },
                    { charcoal: '#111827', accent: '#6366F1', light: '#E0E7FF' },
                    { charcoal: '#171717', accent: '#F59E0B', light: '#FEF3C7' },
                    { charcoal: '#0a0f0d', accent: '#94a3b8', light: '#f1f5f9' },
                    { charcoal: '#4A044E', accent: '#F0ABFC', light: '#FDF4FF' },
                    { charcoal: '#083344', accent: '#0EA5E9', light: '#E0F2FE' },
                    { charcoal: '#14532D', accent: '#22C55E', light: '#DCFCE7' },
                    { charcoal: '#4C0519', accent: '#F43F5E', light: '#FFE4E6' },
                    { charcoal: '#3F6212', accent: '#84CC16', light: '#ECFCCB' },
                    { charcoal: '#5B0216', accent: '#FB7185', light: '#FDE2E2' },
                    { charcoal: '#1E1B4B', accent: '#818CF8', light: '#E0E7FF' },
                    { charcoal: '#0B1120', accent: '#38BDF8', light: '#BAE6FD' },
                    { charcoal: '#422006', accent: '#FACC15', light: '#FEFCE8' },
                    { charcoal: '#451a03', accent: '#D97706', light: '#FFEDD5' }
                ];
                palettes.forEach(palette => {
                    const btn = document.createElement('button');
                    btn.className = 'w-6 h-6 rounded-full border border-gray-300';
                    btn.style.backgroundColor = palette.accent;
                    btn.addEventListener('click', () => applyTheme(palette));
                    paletteContainer.appendChild(btn);
                });
            }

            const floatingActionButtons = document.getElementById('floating-action-buttons');
            floatingActionButtons.innerHTML = `
                <a href="${bookNowUrl}" target="_blank" class="page-action-btn text-brand-charcoal w-12 h-12 flex items-center justify-center text-xl transition-all duration-300 hover:text-brand-accent hover:scale-110" aria-label="Chat on WhatsApp"><i class="fab fa-whatsapp"></i></a>
                <a href="tel:${data.contact.phone}" class="page-action-btn text-brand-charcoal w-12 h-12 flex items-center justify-center text-xl transition-all duration-300 hover:text-brand-accent hover:scale-110" aria-label="Call Us"><i class="fas fa-phone"></i></a>
                <button id="share-btn-js" class="page-action-btn text-brand-charcoal w-12 h-12 flex items-center justify-center text-xl transition-all duration-300 hover:text-brand-accent hover:scale-110" aria-label="Share this page"><i class="fas fa-share-alt"></i></button>
            `;
            
            const floatingSocialBar = document.getElementById('floating-social-bar');
            floatingSocialBar.innerHTML = `
                <a href="${bookNowUrl}" target="_blank" class="social-icon" aria-label="Book Now"><i class="fas fa-calendar-check"></i></a>
                <a href="#" class="social-icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-icon" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-icon" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            `;
            
            const heroContainer = document.getElementById('hero-container');
            heroContainer.innerHTML = data.heroSlides.map(slide => `
                <div class="hero-slide w-full h-full flex-shrink-0" style="background-image: linear-gradient(rgba(${accentRGB},0.4), rgba(${accentRGB},0.4)), url('${slide.bgImage}');">
                    <div class="w-full h-full flex flex-col items-center justify-center text-center text-white p-6">
                        <div class="reveal">
                            <h2 class="text-4xl md:text-6xl font-bold leading-tight mb-4">${slide.title}</h2>
                            <p class="text-lg text-gray-200 mb-8 max-w-2xl mx-auto">${slide.subtitle}</p>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Info bar intentionally hidden
            // const infoBarContent = document.getElementById('info-bar-content');
            // infoBarContent.innerHTML = `
            //     <div class="reveal-left"> <i class="fas fa-map-marker-alt text-brand-accent text-xl mb-1"></i> <h4 class="text-md font-bold">Location</h4> <p class="text-gray-600 text-sm">${data.contact.location}</p> </div>
            //     <div class="reveal" style="transition-delay: 150ms;"> <i class="fas fa-phone text-brand-accent text-xl mb-1"></i> <h4 class="text-md font-bold">Contact</h4> <p class="text-gray-600 text-sm">${data.contact.phone}</p> </div>
            //     <div class="reveal-right" style="transition-delay: 300ms;"> <i class="fas fa-clock text-brand-accent text-xl mb-1"></i> <h4 class="text-md font-bold">Hours</h4> <p class="text-gray-600 text-sm">${data.contact.hours}</p> </div>
            // `;
            // const infoBar = document.getElementById('info-bar');
            // if (infoBar) infoBar.classList.remove('hidden');

            const statsGrid = document.getElementById('stats-grid');
            statsGrid.innerHTML = data.stats.map((stat, index) => `
                <div class="stat-card reveal" style="transition-delay: ${index * 150}ms;">
                    <div class="stat-icon">
                        <i class="${stat.icon}"></i>
                    </div>
                    <div class="text-4xl font-extrabold text-brand-charcoal">
                        <span class="stat-number" data-count="${stat.value}" data-decimal="${stat.decimal || 0}">0</span>
                    </div>
                    <p class="mt-2 text-sm uppercase tracking-wide text-gray-600">${stat.label}</p>
                </div>
            `).join('');

            const serviceGrid = document.getElementById('service-grid');
            serviceGrid.innerHTML = data.services.map((service, index) => `
                <div class="service-item service-card-selectable reveal" data-category="${service.category}" style="transition-delay: ${index * 100}ms;">
                    <div class="flex items-center space-x-4 flex-grow">
                        <div class="service-card-icon-new">
                            ${service.icon?.startsWith('fa-') ? `<i class="fa-solid ${service.icon}"></i>` : service.icon?.startsWith('http') ? `<img src="${service.icon}" alt="${service.name} icon" class="w-8 h-8 object-contain">` : service.icon || ''}
                        </div>
                        <div> <h5 class="font-bold text-lg">${service.name}</h5> <p class="text-sm text-gray-500">${service.duration}</p> </div>
                    </div>
                    <div class="service-price">${service.price}</div>
                    <div class="checkmark-icon"><i class="fas fa-check-circle"></i></div>
                </div>
            `).join('');

            const stylistsGrid = document.getElementById('stylists-grid');
            stylistsGrid.innerHTML = data.stylists.map((stylist, index) => `
                <div class="stylist-card text-center">
                    <div class="relative inline-block reveal-left image-reveal" style="transition-delay: ${index * 150}ms;">
                        <img src="${stylist.image}" onerror="this.onerror=null;this.src='https://placehold.co/400x400/cccccc/ffffff?text=Image';" alt="Stylist ${stylist.name}" class="w-full h-auto object-cover rounded-full aspect-square mx-auto mb-6 max-w-[250px] shadow-lg">
                    </div>
                    <div class="reveal-right" style="transition-delay: ${index * 150 + 150}ms;">
                        <h4 class="text-2xl font-bold">${stylist.name}</h4>
                        <p class="text-brand-accent font-semibold mb-2">${stylist.title}</p>
                    </div>
                </div>
            `).join('');


            const reviewsContainer = document.getElementById('reviews-container');
            reviewsContainer.innerHTML = (data.reviews || []).map(review => {
                let stars = '';
                for(let i=0; i<5; i++) {
                    stars += `<i class="fa-star ${i < review.rating ? 'fas' : 'far'}"></i>`;
                }
                return `
                <div class="review-item snap-center flex-shrink-0 w-full md:w-1/2 lg:w-1/3">
                    <div class="review-card h-full">
                        <div class="star-rating text-xl mb-4">${stars}</div>
                        <p class="text-gray-600 italic mb-4 flex-grow">"${review.comment}"</p>
                        <p class="text-sm text-brand-accent mb-2">${review.service}</p>
                        <p class="font-bold text-brand-charcoal">- ${review.name}</p>
                    </div>
                </div>
                `
            }).join('');

            const reelsContainer = document.getElementById('reels-container');
            if (reelsContainer) {
                const reels = (data.reels || []).slice(0, 3);
                if (reels.length) {
                    reelsContainer.innerHTML = reels.map(url => `
                        <div class="snap-center flex-shrink-0 w-full md:w-1/2 lg:w-1/3">
                            <div class="media-item relative aspect-video rounded-lg shadow-lg overflow-hidden">
                                <video src="${url}" controls muted loop class="w-full h-full object-cover"></video>
                                <div class="media-overlay pointer-events-none"><i class="fas fa-play text-white text-3xl"></i></div>
                            </div>
                        </div>`).join('');
                }
            }

            const galleryContainer = document.getElementById('gallery-container');
            if (galleryContainer) {
                const images = (data.gallery || []).slice(0, 5);
                if (images.length) {
                    galleryContainer.innerHTML = images.map(url => `
                        <div class="gallery-item media-item image-reveal">
                            <img class="rounded-lg w-full blur-up" src="${url}" onerror="this.onerror=null;this.src='https://placehold.co/800x1000/cccccc/ffffff?text=Image';" alt="Gallery Image">
                            <div class="media-overlay"><i class="fas fa-eye text-white text-3xl"></i></div>
                        </div>`).join('');
                    galleryContainer.querySelectorAll('img.blur-up').forEach(img => {
                        if (img.complete) img.classList.add('loaded');
                        else img.addEventListener('load', () => img.classList.add('loaded'));
                    });
                }
            }

              initializePageFunctionality();

              const preloader = document.getElementById('preloader');
              if (preloader) {
                  preloader.classList.add('fade-out');
                  setTimeout(() => preloader.style.display = 'none', 500);
              }
          })
          .catch(error => {
              console.error('Failed to load business data:', error);
              const preloader = document.getElementById('preloader');
              if (preloader) {
                  preloader.classList.add('fade-out');
                  setTimeout(() => preloader.style.display = 'none', 500);
              }
              document.body.innerHTML = '<div class="text-center p-10">Error: Could not load business data. Please check the business name in the URL and the data file.</div>';
          });

          function initializePageFunctionality() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if(mobileMenuButton) mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            const shareBtn = document.getElementById('share-btn-js');
            if(shareBtn) {
                shareBtn.addEventListener('click', function() {
                    const shareData = {
                        title: document.getElementById('page-title').textContent,
                        text: 'Check out this amazing beauty parlour!',
                        url: window.location.href
                    };
                    if (navigator.share) {
                        navigator.share(shareData).catch((error) => {
                            console.error('Error sharing:', error);
                        });
                    } else {
                        alert('To share, please copy the link from your browser address bar.');
                    }
                });
            }

            const heroContainer = document.getElementById('hero-container');
            if (heroContainer) {
                const slides = heroContainer.querySelectorAll('.hero-slide');
                const paginationContainer = document.getElementById('hero-pagination');
                const scrollLeftBtn = document.getElementById('hero-scroll-left');
                const scrollRightBtn = document.getElementById('hero-scroll-right');
                let currentIndex = 0;
                let autoScrollInterval;

                if (slides.length > 0) {
                    slides.forEach((_, index) => {
                        const dot = document.createElement('button');
                        dot.className = 'pagination-dot';
                        dot.addEventListener('click', () => { scrollToSlide(index); resetAutoScroll(); });
                        paginationContainer.appendChild(dot);
                    });

                    const dots = paginationContainer.querySelectorAll('.pagination-dot');

                    function updateSlider() {
                        heroContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
                        dots.forEach((dot, index) => dot.classList.toggle('active', index === currentIndex));
                    }

                    function scrollToSlide(index) { currentIndex = index; updateSlider(); }
                    
                    function resetAutoScroll() {
                        clearInterval(autoScrollInterval);
                        autoScrollInterval = setInterval(() => {
                            currentIndex = (currentIndex + 1) % slides.length;
                            updateSlider();
                        }, 5000);
                    }

                    scrollLeftBtn.addEventListener('click', () => { currentIndex = (currentIndex - 1 + slides.length) % slides.length; updateSlider(); resetAutoScroll(); });
                    scrollRightBtn.addEventListener('click', () => { currentIndex = (currentIndex + 1) % slides.length; updateSlider(); resetAutoScroll(); });
                    
                    updateSlider();
                    resetAutoScroll();
                }
            }

            const serviceGrid = document.getElementById('service-grid');
            const filtersContainer = document.getElementById('service-filters');
            const serviceSearch = document.getElementById('service-search');
            if(serviceGrid && filtersContainer && serviceSearch) {
                const serviceItems = serviceGrid.querySelectorAll('.service-item');
                const categories = { 'all': serviceItems.length };

                serviceItems.forEach(item => {
                    const category = item.dataset.category;
                    categories[category] = (categories[category] || 0) + 1;
                });

                Object.keys(categories).forEach(category => {
                    const btn = document.createElement('button');
                    btn.className = 'service-filter-btn';
                    btn.dataset.filter = category;
                    const count = categories[category];
                    const categoryName = category.charAt(0).toUpperCase() + category.slice(1);
                    btn.innerHTML = `${categoryName} <span class="text-xs ml-1">(${count})</span>`;
                    if (category === 'all') btn.classList.add('active');
                    filtersContainer.appendChild(btn);
                });

                let currentFilter = 'all';
                function applyFilters() {
                    const query = serviceSearch.value.toLowerCase();
                    serviceItems.forEach(item => {
                        const matchesCategory = (currentFilter === 'all' || item.dataset.category === currentFilter);
                        const name = item.querySelector('h5').textContent.toLowerCase();
                        const matchesSearch = name.includes(query);
                        item.style.display = (matchesCategory && matchesSearch) ? 'flex' : 'none';
                    });
                }

                filtersContainer.addEventListener('click', (e) => {
                    const target = e.target.closest('.service-filter-btn');
                    if (!target) return;

                    filtersContainer.querySelector('.active').classList.remove('active');
                    target.classList.add('active');
                    currentFilter = target.dataset.filter;
                    applyFilters();
                });

                serviceSearch.addEventListener('input', applyFilters);

                serviceItems.forEach(item => {
                    item.addEventListener('click', () => {
                        item.classList.toggle('selected');
                    });
                });
            }

            const reviewsContainerScroll = document.getElementById('reviews-container');
            const reviewsScrollLeft = document.getElementById('reviews-scroll-left');
            const reviewsScrollRight = document.getElementById('reviews-scroll-right');
            if (reviewsContainerScroll && reviewsScrollLeft && reviewsScrollRight) {
                const reviewItems = reviewsContainerScroll.querySelectorAll('.review-item');
                let reviewIndex = 0;
                let reviewsAutoScroll;

                function scrollToReview(index) {
                    reviewsContainerScroll.scrollTo({ left: index * reviewsContainerScroll.clientWidth, behavior: 'smooth' });
                }

                function startReviewsAutoScroll() {
                    stopReviewsAutoScroll();
                    reviewsAutoScroll = setInterval(() => {
                        reviewIndex = (reviewIndex + 1) % reviewItems.length;
                        scrollToReview(reviewIndex);
                    }, 5000);
                }

                function stopReviewsAutoScroll() {
                    if (reviewsAutoScroll) clearInterval(reviewsAutoScroll);
                }

                reviewsScrollLeft.addEventListener('click', () => {
                    reviewIndex = (reviewIndex - 1 + reviewItems.length) % reviewItems.length;
                    scrollToReview(reviewIndex);
                    startReviewsAutoScroll();
                });
                reviewsScrollRight.addEventListener('click', () => {
                    reviewIndex = (reviewIndex + 1) % reviewItems.length;
                    scrollToReview(reviewIndex);
                    startReviewsAutoScroll();
                });

                reviewsContainerScroll.addEventListener('mouseenter', stopReviewsAutoScroll);
                reviewsContainerScroll.addEventListener('mouseleave', startReviewsAutoScroll);

                startReviewsAutoScroll();
            }

            const reelsContainerScroll = document.getElementById('reels-container');
            const reelsScrollLeft = document.getElementById('reels-scroll-left');
            const reelsScrollRight = document.getElementById('reels-scroll-right');
            if (reelsContainerScroll && reelsScrollLeft && reelsScrollRight) {
                reelsScrollLeft.addEventListener('click', () => {
                    reelsContainerScroll.scrollBy({ left: -reelsContainerScroll.clientWidth, behavior: 'smooth' });
                });
                reelsScrollRight.addEventListener('click', () => {
                    reelsContainerScroll.scrollBy({ left: reelsContainerScroll.clientWidth, behavior: 'smooth' });
                });
            }

            function animateCountUp(el) {
                const finalValue = parseFloat(el.dataset.count);
                const decimalPlaces = parseInt(el.dataset.decimal) || 0;
                if (el.dataset.animated) return;
                el.dataset.animated = true;

                const duration = 2000;
                const frameRate = 1000 / 60;
                const totalFrames = Math.round(duration / frameRate);
                let frame = 0;

                const counter = setInterval(() => {
                    frame++;
                    const progress = frame / totalFrames;
                    const easeOutProgress = 1 - Math.pow(1 - progress, 3);
                    const currentValue = easeOutProgress * finalValue;

                    el.textContent = currentValue.toFixed(decimalPlaces);

                    if (frame === totalFrames) {
                        clearInterval(counter);
                        el.textContent = finalValue.toFixed(decimalPlaces);
                    }
                }, frameRate);
            }

            const revealElements = document.querySelectorAll('.reveal, .reveal-left, .reveal-right, .image-reveal');
            const statsSection = document.getElementById('stats');

            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('visible');
                });
            }, { threshold: 0.1 });

            revealElements.forEach(el => revealObserver.observe(el));

            if (statsSection) {
                const statsObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const statNumbers = entry.target.querySelectorAll('.stat-number');
                            statNumbers.forEach(num => animateCountUp(num));
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                statsObserver.observe(statsSection);
            }

            const parallaxSections = document.querySelectorAll('.parallax');
            window.addEventListener('scroll', () => {
                parallaxSections.forEach(section => {
                    const offset = window.pageYOffset - section.offsetTop;
                    section.style.backgroundPositionY = `${offset * 0.5}px`;
                });
            });
        }
    });
    </script>
</body>
</html>
